{"version":3,"sources":["../../../node_modules/factor-bundle/node_modules/browser-pack/_prelude.js","index.js","tooltipper.js","tab-expandables.js","../../vendor/cf-expandables/src/js/cf-expandables.js","complaint-urls.js"],"names":["require","e","t","n","r","s","o","u","a","i","f","Error","code","l","exports","call","length",8,"module","toolTipper","configureComplaintURL","tabExpandables","$","document","ready","updateComplaintDownloadURL","category","val","include","format","url","attr","init","hover","$textBox","this","find","addClass","css","outerWidth","removeClass","click","ev","preventDefault","stopPropagation","window","resize","is","hide","on","./complaint-urls","./nemo","./nemo-shim","./tab-expandables","./tooltipper",13,"$elem","newTop","newLeft","tipOffset","ttc","name","content","html","innerTip","outerTip","width","removeAttr","show","offset","top","outerHeight","left","Math","floor","elemCenter","pagePadding","elemRightOffset","off",12,"global","el","tabSelectors","$el","defaultSelectors","dataAttr","nav","btn","selectedBtnClass","extend","$btns","helpers","expandableHelper","utils","updateTabs","selectedBtn","selectedCategory","selectedFilter","selectClass","$selectedTab","filterExpandables","filter","toggleExpandable","syncTabsWithExpandables","openExpandables","getOpenExpandables","resizeHandler","handleResize","isExpandableTriggerVisible","jQuery","self","../../vendor/cf-expandables/src/js/cf-expandables.js","../../vendor/jquery.easing/js/jquery.easing.js","./expandable-helpers","./handle-resize",14,"fn","expandable","userSettings","each","$this","$target","not","$cueOpen","$cueClose","$content","$groupParent","parents","accordion","data","$siblings","siblings","hasClass","expand","collapse","proxy","handleClick","toggle","index","sibling","duration","calculateExpandDuration","height","slideDown","easing","calculateCollapseDuration","slideUp","constrainValue","min","max",3,"urlCodes","all_all","all_narratives","bank-account_all","bank-account_narratives","credit-card_all","credit-card_narratives","credit-reporting_all","credit-reporting_narratives","debt-collection_all","debt-collection_narratives","money-transfer_all","money-transfer_narratives","mortgage_all","mortgage_narratives","other_all","other_narratives","payday-loan_all","payday-loan_narratives","prepaid-card_all","prepaid-card_narratives","student-loan_all","student-loan_narratives","consumer-loan_all","consumer-loan_narratives","baseURL","queryParam"],"mappings":"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","file":"index.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","'use strict';\n\nrequire('./nemo');\nrequire('./nemo-shim');\nvar toolTipper = require('./tooltipper');\nvar configureComplaintURL = require('./complaint-urls');\nvar tabExpandables = require('./tab-expandables');\n\n\n$(document).ready( function() {\n  // sync tabs with expandables\n  tabExpandables().init();\n\n  // tooltips for tab buttons\n    $('.category-buttons button').hover(\n      function() {\n        var $textBox = $(this).find('.text-content');\n        $(this).addClass('hover-button');\n        $textBox.css('left', ($textBox.outerWidth() - $(this).outerWidth()) / 2 * -1);\n      },\n      function() {\n        $(this).removeClass('hover-button');\n      }\n    );\n\n  // Tooltips for info buttons\n  $('[data-tooltip-target]').click( function( ev ) {\n    ev.preventDefault();\n    ev.stopPropagation();\n    toolTipper( $(this) );\n  });\n\n  // Tooltip resize handler\n  $(window).resize( function() {\n    if ( $('#tooltip-container').is(':visible') ) {\n      $('#tooltip-container').hide();\n      toolTipper( $('[data-tooltip-current-target]') );\n    }\n  });\n\n  // download url change handlers\n  function updateComplaintDownloadURL () {\n    var category = $('.download-radio input:checked').val();\n    var include = $('#download_include option:selected').val();\n    var format = $('#download_format option:selected').val();\n    \n    var url = configureComplaintURL(category, include, format);\n    \n    $('#download-data-btn').attr('href',  url);\n  }\n  \n  $('.download-radio').click( function() {\n    updateComplaintDownloadURL();\n  });\n\n  $('#download_format, #download_include').on( 'change', function() {\n    updateComplaintDownloadURL();\n  });\n\n  $('.publication-criteria a, .list__links .pdf, .pdf').removeClass('pdf');\n});\n\n","'use strict';\n\n/**\n  * Assigns handlers to tooltips\n  * @param { object } $elem - jQuery object\n  */\nvar toolTipper = function ( $elem ) {\n  // position tooltip-container based on the element clicked\n  var ttc = $('#tooltip-container'),\n      name = $elem.attr('data-tooltip-target'),\n      content = $('[data-tooltip-name=\"' + name + '\"]').html(),\n      innerTip = ttc.find( '.innertip' ),\n      outerTip = ttc.find( '.outertip' ),\n      newTop,\n      newLeft,\n      tipset,\n      tipOffset;\n\n  ttc.width( $('#ccdb-landing').width() / 3 );\n\n  ttc.find('.content').html( content );\n  $('[data-tooltip-current-target]').removeAttr('data-tooltip-current-target');\n  $elem.attr( 'data-tooltip-current-target', true );\n\n  ttc.show();\n  newTop = $elem.offset().top + $elem.outerHeight() + 10;\n  newLeft = $elem.offset().left + ( $elem.outerWidth() / 2 ) - ( ttc.outerWidth(true) / 2 );\n  ttc.css( { 'top': newTop, 'left': newLeft } );\n\n  // check offset again, properly set tips to point to the element clicked\n  tipOffset = Math.floor( ttc.outerWidth() / 2 );\n  innerTip.css('left', Math.floor( tipOffset - ( innerTip.outerWidth() / 2 ) ) );\n  outerTip.css('left', Math.floor( tipOffset - ( outerTip.outerWidth() / 2 ) ) );\n\n\n    // Prevent tooltip from falling off the left side of screens\n    if (newLeft < 20) {\n      var elemCenter = $elem.offset().left + ( $elem.width() / 2 ),\n          pagePadding = 20;\n      ttc.css('left', pagePadding);\n      innerTip.css('left', elemCenter - ( innerTip.outerWidth() / 2 ) - pagePadding );\n      outerTip.css('left', elemCenter - ( outerTip.outerWidth() / 2 ) - pagePadding );\n    }\n\n    // Prevent tooltip from falling off the right side of screens\n    if ( ttc.offset().left + ttc.outerWidth(true) >$(window).width()) {\n      var elemCenter = $elem.offset().left + ( $elem.width() / 2 ),\n          elemRightOffset = $(window).width() - elemCenter,\n          pagePadding = 20;\n      newLeft = $(window).width() - ttc.outerWidth(true) - pagePadding;\n      ttc.css( 'left', newLeft );\n      innerTip.css('left', ttc.outerWidth() - ( innerTip.outerWidth() / 2 ) - elemRightOffset + pagePadding );\n      outerTip.css('left', ttc.outerWidth() - ( outerTip.outerWidth() / 2 ) - elemRightOffset + pagePadding );\n    }\n\n  $( 'html' ).on('click', 'body:not(#tooltip-container a)', function() {\n    ttc.hide();\n    ttc.find( '.content' ).html('');\n    $('[data-tooltip-current-target]').removeAttr('data-tooltip-current-target');\n    $( 'html' ).off('click');\n  });\n}\n\nmodule.exports = toolTipper;\n","'use strict';\nvar $ = global.jQuery;\nrequire('../../vendor/jquery.easing/js/jquery.easing.js')\nrequire('../../vendor/cf-expandables/src/js/cf-expandables.js');\n\nvar handleResize = require('./handle-resize');\nvar expandableHelper = require('./expandable-helpers');\n\n/**\n * Manages tabs that become expandables at certain screen sizes.\n * \n * When tab button or tab navigation button is clicked,\n * updates active state of tab buttons and shows/hides related\n * expandable based on a shared data attribute on button & expandable.\n *\n * Also keeps tabs and expandables in sync. On window resize, \n * checks whether tabs or expandables are currently visible. \n * If tabs are visible, checks for current open expandable and activates\n * associated tab button. If no tabs are expanded, opens the first tab\n * and activates its button.\n *\n * Pass in optional el to target part of the page, and an optional\n * tabSelectors object to use different selectors for tab and tab nav\n * buttons, class for selected buttons, or identifying data attribute.\n *\n * @param  {string} el optional \n * @param  {object} tabSelectors optional\n */\n\nfunction tabExpandables (el, tabSelectors) {    \n    var $el = $(el).length ? $(el) : $('body');\n    var defaultSelectors = {\n      dataAttr: 'data-category',\n      nav: '.tab_nav',\n      btn: '.tab_btn',\n      selectedBtnClass: 'selected-button'\n    };\n    \n    tabSelectors = $.extend(defaultSelectors, tabSelectors);\n    \n    var $btns = $(tabSelectors.btn);\n    var $navs = $(tabSelectors.nav);\n    var helpers = expandableHelper()\n    \n    var utils = {\n      helpers: helpers\n    }\n    \n    utils.updateTabs = function (selectedBtn) {\n      var selectedCategory = $(selectedBtn).attr(tabSelectors.dataAttr);\n      var selectedFilter = '[' + tabSelectors.dataAttr + '=\"' + selectedCategory + '\"]';\n      var selectClass = tabSelectors.selectedBtnClass;\n      var $selectedTab = helpers.filterExpandables(selectedFilter);\n      \n      $btns.removeClass(selectClass).filter(selectedFilter).addClass(selectClass);\n      helpers.toggleExpandable($selectedTab, true);\n    }\n    \n    utils.syncTabsWithExpandables = function () {\n      var openExpandables = helpers.getOpenExpandables();\n      if (openExpandables.length > 0) {\n        utils.updateTabs(openExpandables[0]);\n      } else {\n        utils.updateTabs($btns[0]);\n      }\n    }\n    \n    utils.init = function () {\n      utils.resizeHandler = handleResize(helpers.isExpandableTriggerVisible, utils.syncTabsWithExpandables);\n      utils.resizeHandler.init();\n      \n      $el.on('click', tabSelectors.btn + ', ' + tabSelectors.nav, function() {\n        utils.updateTabs(this);\n      });\n    }\n    \n    return utils;\n}\n\nmodule.exports = tabExpandables;\n","/**\n * cf-expandables\n * https://github.com/cfpb/cf-expandables\n *\n * A public domain work of the Consumer Financial Protection Bureau\n */\n\n(function( $ ) {\n\n  $.fn.expandable = function( userSettings ) {\n\n    return $( this ).each(function() {\n\n      var $this = $( this ),\n          $target = $this.find('.expandable_target').not( $this.find('.expandable .expandable_target') ),\n          $cueOpen = $this.find('.expandable_cue-open').not( $this.find('.expandable .expandable_cue-open') ),\n          $cueClose = $this.find('.expandable_cue-close').not( $this.find('.expandable .expandable_cue-close') ),\n          $content = $this.find('.expandable_content').not( $this.find('.expandable .expandable_content') ),\n          $groupParent = $this.parents('.expandable-group'),\n          accordion = $groupParent.length > 0 && $groupParent.data('accordion');\n\n      if ( accordion ) {\n        var $siblings = $this.siblings('.expandable');\n      }\n\n      this.init = function() {\n        // Todo: recommend using an id on all expandables so that we can use\n        // the aria-controls attribute.\n        $target.attr( 'aria-controls', $content.attr('id') );\n        if ( $this.hasClass('expandable__expanded') ) {\n          this.expand( 0 );\n        } else {\n          this.collapse( 0 );\n        }\n        $target.on( 'click', $.proxy( this.handleClick, this ) );\n      };\n\n      this.handleClick = function( ev ) {\n        ev.preventDefault();\n        ev.stopPropagation();\n        this.toggle();\n        if ( accordion ) {\n          $siblings.each( function( index, sibling ) {\n            sibling.collapse();\n          });\n        }\n      };\n\n      this.toggle = function() {\n        if ( $target.attr('aria-pressed') === 'true' ) {\n          this.collapse();\n        } else {\n          this.expand();\n        }\n      };\n\n      this.expand = function( duration ) {\n        $cueOpen.css( 'display', 'none' );\n        $cueClose.css( 'display', 'inline' );\n        $content.attr( 'aria-expanded', 'true' );\n        $target.attr( 'aria-pressed', 'true' );\n        if ( typeof duration === 'undefined' ) {\n          duration = $.fn.expandable.calculateExpandDuration( $content.height() );\n        }\n        $this.addClass('expandable__expanded');\n        $content.slideDown({\n          duration: duration,\n          easing: 'easeOutExpo'\n        });\n      };\n\n      this.collapse = function( duration ) {\n        $cueOpen.css( 'display', 'inline' );\n        $cueClose.css( 'display', 'none' );\n        $content.attr( 'aria-expanded', 'false' );\n        $target.attr( 'aria-pressed', 'false' );\n        if ( typeof duration === 'undefined' ) {\n          duration = $.fn.expandable.calculateCollapseDuration( $content.height() );\n        }\n        $this.removeClass('expandable__expanded');\n        $content.slideUp({\n          duration: duration,\n          easing: 'easeOutExpo'\n        });\n      };\n\n      this.init();\n\n    });\n\n  };\n\n  $.fn.expandable.calculateExpandDuration = function( height ) {\n    return $.fn.expandable.constrainValue( 450, 900, height * 4 );\n  };\n\n  $.fn.expandable.calculateCollapseDuration = function( height ) {\n    return $.fn.expandable.constrainValue( 350, 900, height * 2 );\n  };\n\n  $.fn.expandable.constrainValue = function( min, max, duration ) {\n    if ( duration > max ) {\n        return max;\n    } else if ( duration < min ) {\n        return min;\n    } else {\n        return duration;\n    }\n  };\n\n  // Auto init\n  $('.expandable').expandable();\n\n}(jQuery));\n","\"use strict\";\n\nvar urlCodes = {\n  'all_all' : 's6ew-h6mp',\n  'all_narratives' : 'nsyy-je5y',\n  'bank-account_all' : 't9fg-cqmi',\n  'bank-account_narratives' : 'ytxv-uppu',\n  'credit-card_all' : '7zpz-7ury',\n  'credit-card_narratives' : 'wycs-qcs4',\n  'credit-reporting_all' : 'xa48-juie',\n  'credit-reporting_narratives' : 'ur78-i5sn',\n  'debt-collection_all' : 'ckyu-ku28',\n  'debt-collection_narratives' : 'dx9u-5nhx',\n  'money-transfer_all' : '3hjq-88e9', // + virtual currency\n  'money-transfer_narratives' : 'd644-vf4p', // + virtual currency\n  'mortgage_all' : 'g5qz-smft',\n  'mortgage_narratives' : 'gfmg-6ppu',\n  'other_all' : 'b239-tvpx',\n  'other_narratives' : 'yjne-fppi',\n  'payday-loan_all' : '6hp8-hzag',\n  'payday-loan_narratives' : 'xiq2-ahjv',\n  'prepaid-card_all' : '6yuf-367p',\n  'prepaid-card_narratives' : '2t2q-2pud',\n  'student-loan_all' : 'eew7-9yf2',\n  'student-loan_narratives' : 'j875-kipn',\n  'consumer-loan_all' : 'wfbn-zkat',\n  'consumer-loan_narratives' : 'uqjt-9neg'\n};\n\n/**\n * Generates a url for complaint data. Uses\n * category & include params to derive a url code,\n * then constructs url from base & code and adds\n * format extension.\n *\n *\n * @param  {string} category\n * @param  {string} include\n * @param  {string} format\n */\n\n\nvar configureComplaintURL = function(category, include, format) {\n    var baseURL = 'https://data.consumerfinance.gov/api/views/';\n    var code = urlCodes[category + '_' + include];\n    var queryParam = '?accessType=DOWNLOAD';\n    if (code && format) {\n      return baseURL + code + '/rows.' + format + queryParam;\n    }\n}\n\nmodule.exports = configureComplaintURL;\n"],"sourceRoot":"/source/"}